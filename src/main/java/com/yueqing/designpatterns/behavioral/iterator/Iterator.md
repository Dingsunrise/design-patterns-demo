# 迭代器模式

## 一 简介

意图
>提供一种方法顺序访问一个聚合对象的各个元素，而又不需要暴露该对象的内部表示。

迭代器是用来遍历容器的，所以，一个完整的迭代器模式一般会涉及容器和容器迭代器两部分内容。为了达到基于接口而非实现编程的目的，容器又包含容器接口、
容器实现类，迭代器又包含迭代器接口、迭代器实现类。

## 二 适用场景

1 当集合背后为复杂的数据结构， 且你希望对客户端隐藏其复杂性时，将集合与遍历操作解耦， 可以使用迭代器模式。一般对一些集合对象进行遍历，比如数组，
  链表，跳表，散列表等等。

2 封装对象的遍历过程，使用该模式可以减少程序中重复的遍历代码。

3 如果你希望代码能够遍历不同的甚至是无法预知的数据结构， 可以使用迭代器模式。


***类图***



## 三 实现方式

迭代器模式，各语言都封装到集合里面，基本上很少需要自己单独去实现。一般实现方式可以参考各语言通用的迭代器实现方式，比如java的 Iterator。
这里就不再过多介绍。



## 四 优缺点
迭代器模式封装集合内部的复杂数据结构，开发者不需要了解如何遍历，直接使用容器提供的迭代器即可；迭代器模式将集合对象的遍历操作从集合类中拆分出来，
放到迭代器类中，让两者的职责更加单一；
迭代器模式让添加新的遍历算法更加容易，更符合开闭原则。除此之外，因为迭代器都实现自相同的接口，在开发中，基于接口而非实现编程，替换迭代器也变得更加容易。
但是同样的如果你的程序只与简单的集合进行交互， 应用该模式可能会矫枉过正。而且也要注意使用迭代器后会不会导致遍历的效率变低。


## 五 注意事项
如果集合交互比较简单就不要使用迭代器模式，使用迭代器模式时需要注意遍历过程中集合发生变更的情况。

## 六 应用场景
该模式在 Java 代码中很常见。 许多框架和程序库都会使用它来提供遍历其集合的标准方式。
下面是该模式在核心 Java 程序库中的一些示例：
java.util.Iterator的所有实现 （还有 java.util.Scanner）。
java.util.Enumeration的所有实现。

**识别方法：** 迭代器可以通过导航方法 （例如 next和 pre­vi­ous等） 来轻松识别。 使用迭代器的客户端代码可能没有其所遍历的集合的直接访问权限。

### 七 与其他模式关系

**组合模式**
你可以使用迭代器模式来遍历组合模式树。

**工厂方法模式**
你可以同时使用工厂方法模式和迭代器来让子类集合返回不同类型的迭代器， 并使得迭代器与集合相匹配。

**备忘录模式**
你可以同时使用备忘录模式和迭代器来获取当前迭代器的状态， 并且在需要的时候进行回滚。

**访问者模式**
可以同时使用访问者模式和迭代器来遍历复杂数据结构， 并对其中的元素执行所需操作， 即使这些元素所属的类完全不同。